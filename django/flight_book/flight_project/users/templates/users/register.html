{# users/register.html #}
{% extends "users/layout.html" %}

{% block body %}
    <h2>Register</h2>

    {% if messages %}
        <ul class="messages">
            {% for message in messages %}
                <li>{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
            {% endfor %}
        </ul>
    {% endif %}

    {% if message %}
        <div style="color: red;">{{ message }}</div>
    {% endif %}

    <form action="{% url 'register' %}" method="post">
        {% csrf_token %}
        <div>
            <label for="id_username">Username:</label>
            <input type="text" id="id_username" name="username" placeholder="Username" value="{{ username|default:'' }}">
            {% if errors.username %}
                <span style="color: red;">{{ errors.username }}</span>
            {% endif %}
        </div>
        <div>
            <label for="id_first_name">First Name:</label>
            <input type="text" id="id_first_name" name="first_name" placeholder="First Name" value="{{ first_name|default:'' }}">
            {% if errors.first_name %} {# Changed from errors.firstname #}
                <span style="color: red;">{{ errors.first_name }}</span>
            {% endif %}
        </div>
        <div>
            <label for="id_last_name">Last Name:</label>
            <input type="text" id="id_last_name" name="last_name" placeholder="Last Name" value="{{ last_name|default:'' }}">
            {% if errors.last_name %} {# Changed from errors.lastname #}
                <span style="color: red;">{{ errors.last_name }}</span>
            {% endif %}
        </div>
        <div>
            <label for="id_email">Email:</label>
            <input type="email" id="id_email" name="email" placeholder="Email Address" value="{{ email|default:'' }}">
            {% if errors.email %}
                <span style="color: red;">{{ errors.email }}</span>
            {% endif %}
        </div>
        <div>
            <label for="id_password">Password:</label>
            <input type="password" id="id_password" name="password" placeholder="Password">
            {% if errors.password %}
                <span style="color: red;">{{ errors.password }}</span>
            {% endif %}
        </div>
        <div>
            <label for="id_confirmation">Confirm Password:</label>
            <input type="password" id="id_confirmation" name="confirmation" placeholder="Confirm Password">
            {% if errors.confirmation %}
                <span style="color: red;">{{ errors.confirmation }}</span>
            {% endif %}
        </div>
        <button type="submit">Register</button>
    </form>

    <p>Already have an account? <a href="{% url 'login' %}">Log In here.</a></p>
{% endblock %}